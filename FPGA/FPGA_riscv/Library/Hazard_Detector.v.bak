module Hazard_Detector(
	input [15:0]Inst,Inst3,
	input LDR_D2,JAL_Label,Branch,JMP,JAL_Rm,JR
	input RF_wr_en_bubble_check,bubble1_D3,work_c,Mem_wr_en_bubble_check,
	output Stall,bubble1,bubble2,RF_wr_en_D3,MEM_wr_en_D3
	);
	
	wire Rs30,Rt30;
	
	assign Rs30 = 	~(Inst3[7]^ Inst[10]) & ~(Inst3[6]^ Inst[9]) & ~(Inst3[5]^ Inst[8]);
	assign Rt30 = 	~(Inst3[7]^ Inst[10]) & ~(Inst3[6]^ Inst[9]) & ~(Inst3[5]^ Inst[8]);
	assign Stall = (Rs30|Rt30)&	LDR_D2;

	assign bubble1 = JAL_Label|Branch|JMP|JAL_Rm|JR;
	assign bubble2 = work_c | Stall;
	assign RF_wr_en_D3  = RF_wr_en_bubble_check & ~bubble_D3 & ~bubble2;
	assign MEM_wr_en_D3 = Mem_wr_en_bubble_check & ~bubble_D3 & ~bubble2;
	
endmodule
